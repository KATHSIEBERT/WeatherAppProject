<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="styling.css" rel="stylesheet" />
    <link href="reset.css" rel="stylesheet" />
    <link href="layout.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <title>Weather App</title>
  </head>
  <body>
     <div class="card">
    <div class="search">
        <input
          class="searchInput"
          type="text"
          placeholder="Enter city name"
          spellcheck="false"
        />
        <button class="bar">Search</button>
      </div>
      <div class="Weather1stinfo">
        <h1 class="temp">üå¶Ô∏è 27¬∞C</h1>
        <h2 class="city">Asuncion</h2>
        <h3>Current Date and Time: <span class="datetime"></span></h3>
        <form id="search-form">
          <input type="submit" style="display: none" />
        </form>
      </div>
      <div class="details1">
        <ul class="details">
          <li class="humidity">
            Humidity: <strong>87%</strong>, Wind: <strong>7.2km/h</strong>
          </li>
        </ul>
      </div>
      
    
     <footer class="end">
      This project was coded by
      <a href="https://github.com/KATHSIEBERT"> Katharina Siebert </a> and is
      open source on
      <a href="https://github.com/KATHSIEBERT/WeatherAppProject"> GitHub </a> and
      hosted on <a href="https://master--deft-beignet-4f90bd.netlify.app/"> Netlify </a>
    </footer>
    </div>
    <script>
      let weather = {
        paris: {
          temp: 19.7,
          humidity: 80,
        },
        tokyo: {
          temp: 17.3,
          humidity: 50,
        },
        lisbon: {
          temp: 30.2,
          humidity: 20,
        },
        "san francisco": {
          temp: 20.9,
          humidity: 100,
        },
        oslo: {
          temp: -5,
          humidity: 20,
        },
      };

      function getWeather(cityName) {
        cityName = cityName.trim().toLowerCase();
        console.log("City:", cityName);
        if (weather.hasOwnProperty(cityName)) {
          let temperature = Math.round(weather[cityName].temp);
          let humidity = Math.round(weather[cityName].humidity);
          document.querySelector(".temp").textContent = `üå¶Ô∏è${temperature}¬∞C`;
          document.querySelector(".city").textContent = cityName;
          document.querySelector(
            ".humidity"
          ).innerHTML = `Humidity: <strong>${humidity}%</strong>`;
        } else {
          alert(
            `Sorry, we don't know the weather for this city, try going to https://www.google.com/search?q=weather+${cityName}`
          );
        }
      }

      document.querySelector(".bar").addEventListener("click", function () {
        let cityName = document.querySelector(".searchInput").value;
        getWeather(cityName);
      });

      function displayDateTime() {
        let currentDate = new Date();
        let day = currentDate.toLocaleString("en-US", { weekday: "long" });
        let time = currentDate.toLocaleString("en-US", {
          hour: "numeric",
          minute: "numeric",
          hour12: true,
        });
        let dateTimeString = `${day} ${time}`;
        document.querySelector(".datetime").textContent = dateTimeString;
      }

      displayDateTime();

      document
        .querySelector("#search-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          let cityName = document.querySelector(
            "#search-form .searchInput"
          ).value;
          getWeather(cityName);
        });
    </script>
  </body>
</html>
